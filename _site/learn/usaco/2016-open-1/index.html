<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>TeamsCode</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700|Roboto+Mono:400,500,700" rel="stylesheet">
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="shortcut icon" type="image/png" href="/assets/images/dark_logo.png">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Inconsolata" />

  <!-- Sharing link information -->
  <meta property="og:site_name" content="TeamsCode"/>
  <meta property="og:description" content="TeamsCode is a student-run 501(c)(3) non-profit that works to encourage high school students to study computer science through team-focused programming contests!"/>
  <meta property="og:image" content="/assets/images/teamscode_share_graphic.png">
  <meta property="og:url" content="http://teamscode.com/">
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109560289-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-109560289-1');
  </script>

</head>

  <body>
    <div class="post-lesson-layout">
      <div class="header">
  <div class="site-max-width">
    <div class="header-logo">
      <a href="/">
        <img src="/assets/images/dark_logo.svg" height="32" alt="teamscode"/>
      </a>
    </div>
    <div class="header-menu">
      <div class="header-menu-item">
        <a href="/learn">Learn</a>
      </div>
      <div class="header-menu-item">
        <a href="/contests">Contests</a>
      </div>
      <div class="header-menu-item">
        <a href="/press">Press</a>
      </div>
      <div class="header-menu-item">
        <a href="/blog">Blog</a>
      </div>
      <div class="header-menu-item">
        <a href="/contact">Contact</a>
      </div>
      <div class="header-menu-item">
        <a href="/about">About</a>
      </div>
    </div>
  </div>
</div>

      <script
  src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
  integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="
  crossorigin="anonymous"></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/mo-js/0.288.1/mo.min.js"
  type="text/javascript"></script>
      <div class="content">
        
        <div class="post-lesson-body">
          <div class="post-lesson-max-width">
            <div class="row">
              <div class="column left sticky-l" id="sidebar">
                <a href="/learn/usaco/">
                  <div class="lesson-sidebar-title">
                    USACO Problems
                  </div>
                </a>
                
                  
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                      <a href="/learn/usaco/#1"><div class="lesson-sidebar-header">
                        2015-2016 Usaco Platinum Contest
                      </div></a>
                      
                        <div >
                        <a href="/learn/usaco/2015-dec-1/">
  <div class="lesson-sidebar-item">
    Dec, Problem 1 | Max Flow
  </div>
</a>
                        </div>
                      
                        <div >
                        <a href="/learn/usaco/2015-dec-2/">
  <div class="lesson-sidebar-item">
    Dec, Problem 2 | High Card Low Card (Platinum)
  </div>
</a>
                        </div>
                      
                        <div >
                        <a href="/learn/usaco/2015-dec-3/">
  <div class="lesson-sidebar-item">
    Dec, Problem 3 | Counting Haybales
  </div>
</a>
                        </div>
                      
                        <div >
                        <a href="/learn/usaco/2016-feb-1/">
  <div class="lesson-sidebar-item">
    Feb, Problem 1 | Load Balancing
  </div>
</a>
                        </div>
                      
                        <div >
                        <a href="/learn/usaco/2016-feb-2/">
  <div class="lesson-sidebar-item">
    Feb, Problem 2 | Fenced In
  </div>
</a>
                        </div>
                      
                        <div >
                        <a href="/learn/usaco/2016-jan-1/">
  <div class="lesson-sidebar-item">
    Jan, Problem 1 | Fort Moo
  </div>
</a>
                        </div>
                      
                        <div  class="current-lesson" >
                        <a href="/learn/usaco/2016-open-1/">
  <div class="lesson-sidebar-item">
    Open, Problem 1 | 262144
  </div>
</a>
                        </div>
                      
                    
                  
                
                  
                  
                    
                  
                    
                  
                    
                  
                    
                  
                    
                  
                
              </div>
              <div class="column right">

        <div class="post-lesson-header">
          <div class="post-lesson-max-width">
            <div class="post-lesson-header-section">
              <div class="h1">
                Open, Problem 1 | 262144
              </div>
              <div class="post-lesson-header-section-info">
                <div><i>A writeup of Open number 1 from the USACO platinum problem set</i></div>
              </div>
            </div>
          </div>
        </div>
              <hr style="background-color: #777; border-width: 0; height: 1px; margin-top: -15px">
                <script src="/questions.js"></script>

<h3 id="262144"><a href="http://usaco.org/index.php?page=viewproblem2&amp;cpid=648">262144</a></h3>

<h4 id="problem-statement">Problem Statement</h4>
<blockquote>
  <p>She is particularly intrigued by the current game she is playing. The game starts with a sequence of N positive integers (2≤N≤262,144), each in the range 1…40. In one move, Bessie can take two adjacent numbers with equal values and replace them a single number of value one greater (e.g., she might replace two adjacent 7s with an 8). The goal is to maximize the value of the largest number present in the sequence at the end of the game. Please help Bessie score as highly as possible!</p>
</blockquote>

<h4 id="solution">Solution</h4>
<p>First considering combining all of the ones. If a segment has an even number of ones, it can be fully condensed down into twos. Otherwise, we’ll end up breaking up our sequence into two distinct parts. That’s because the leftover one will never be able to be removed.</p>

<p>We use a greedy solution. Having a bigger sequence will always produce the same or a bigger number than a smaller one. With this in mind, we divide our original big sequence up into many smaller sequences. When doing so, we seek to maximize the number of twos appended for each subsequence. In particular, if a sequence is bordered by N ones (where N is odd), we add <code class="highlighter-rouge">floor(N / 2)</code> twos to the new sequence.</p>

<p>Applying similar logic to 2, 3, 4, and so on, we solve the problem.</p>

<p>Note that because the numbers are limited to a very small range, this doesn’t exceed runtime.</p>
<h5 id="code">Code</h5>

<p>My solution can be found <a href="https://github.com/chen-robert/writeups/blob/master/data/docs/usaco/2015/code/_262144.java">here</a></p>


                <p style="color: #777; font-size: 14px;"><i>Written by Robert Chen</i></p>
                <p style="color: #777; font-size: 14px;">Notice any mistakes? Please email us at <a href="mailto:learn@teamcode.com">learn@teamscode.com</a> so that we can fix any inaccuracies. </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script src="https://use.fontawesome.com/releases/v5.14.0/js/all.js"></script>
<div class="footer">
  <div class="site-max-width">
    <div class="footer-copyright">
      TeamsCode &copy; <script type="text/javascript">document.write(new Date().getFullYear());</script>
    </div>
    <div class="footer-social-menu">
      <div>
        <a href="https://instagram.com/teamscode" target="_blank">
          <i class="fab fa-instagram" aria-hidden="true"></i>
        </a>
      </div>
      <div>
        <a href="https://discord.gg/8pg89SS" target="_blank">
          <i class="fab fa-discord" aria-hidden="true"></i>
        </a>
      </div>
      <div>
        <a href="https://www.facebook.com/teamscode" target="_blank">
          <i class="fab fa-facebook" aria-hidden="true"></i>
        </a>
      </div>
      <div>
        <a href="https://github.com/teamscode" target="_blank">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
      </div>
      <div>
        <a href="https://twitter.com/TeamsCode" target="_blank">
          <i class="fab fa-twitter" aria-hidden="true"></i>
        </a>
      </div>
    </div>
    <br>
    <div class="footer-copyright"style="font-size:12px">TeamsCode is a 501(c)(3) non-profit organization.</div>
    <div class="footer-copyright" style="font-size:12px">Website and materials not to be reproduced without prior written permission from TeamsCode Co-Presidents (Sean Yang and Ryan Hsu).</div>
  </div>
</div>

    </div>
  </body>

  <script>
  $(window).scroll(function(e){ 
    var $el = $('#sidebar'); 
    var isPositionFixed = ($el.css('position') == 'fixed');
    var bottomDist = $(window).scrollTop() >= $(document).height() - 500;
    if (!bottomDist && !isPositionFixed) { 
      $('#sidebar').addClass("sticky-l");
      $('#sidebar').removeClass("near-bottom-l"); 
    }
    if (bottomDist && isPositionFixed) {
      $('#sidebar').removeClass("sticky-l"); 
      $('#sidebar').addClass("near-bottom-l"); 
    }
  });
</script>
</html>